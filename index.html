<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Friends Plus 8 - Ng·ªØ ph√°p v√† T·ª´ v·ª±ng</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #fce4ec; /* M√†u h·ªìng nh·∫°t */
            background-image: url('https://www.transparenttextures.com/patterns/dust-and-scratches.png');
            color: #4a148c; /* M√†u t√≠m ƒë·∫≠m */
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 20px auto;
            background-color: rgba(255, 255, 255, 0.9);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        h1 {
            text-align: center;
            color: #880e4f; /* M√†u ƒë·ªè m·∫≠n */
            font-size: 2.5em;
            margin-bottom: 20px;
        }

        h2 {
            color: #ad1457; /* M√†u ƒë·ªè t√≠m */
            border-bottom: 2px solid #f06292;
            padding-bottom: 5px;
        }

        .question-box {
            margin-bottom: 25px;
            padding: 20px;
            background-color: #fff8f8;
            border-radius: 10px;
            border: 1px solid #ffcdd2;
        }

        .question-text {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .answer-input {
            width: 70%;
            padding: 10px;
            border: 2px solid #f48fb1;
            border-radius: 5px;
            font-size: 1em;
            margin-right: 10px;
        }

        .submit-btn {
            padding: 10px 20px;
            background-color: #ff80ab;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s ease;
        }

        .submit-btn:hover {
            background-color: #f50057;
        }

        .feedback {
            margin-top: 15px;
            font-size: 1.1em;
            font-weight: bold;
        }

        .correct {
            color: #4caf50; /* Xanh l√° c√¢y */
        }

        .incorrect {
            color: #f44336; /* ƒê·ªè */
        }

        .options {
            margin-top: 15px;
            display: none; /* ·∫®n ban ƒë·∫ßu */
        }

        .option-btn {
            display: block;
            width: 100%;
            padding: 10px;
            margin-bottom: 8px;
            background-color: #e91e63; /* H·ªìng */
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            text-align: left;
            transition: background-color 0.3s ease;
        }

        .option-btn:hover {
            background-color: #c2185b; /* H·ªìng ƒë·∫≠m */
        }
        
        .summary {
            margin-top: 30px;
            text-align: center;
            font-size: 1.5em;
            font-weight: bold;
            padding: 20px;
            background-color: #e1bee7;
            border-radius: 10px;
            display: none;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Friends Plus 8 - Luy·ªán t·∫≠p Ng·ªØ ph√°p v√† T·ª´ v·ª±ng</h1>
    <p style="text-align: center; font-style: italic;">C√πng √¥n l·∫°i ki·∫øn th·ª©c Friends Plus 8 n√†o! ‚ú®</p>
    
    <div id="quiz-container">
        </div>
    
    <div id="summary" class="summary">
        <p>K·∫øt qu·∫£ c·ªßa b·∫°n: <span id="correct-count">0</span> / <span id="total-count">0</span> c√¢u ƒë√∫ng.</p>
    </div>
</div>

<script>
    const quizData = [
        {
            question: "ƒêi·ªÅn t·ª´ ƒë√∫ng v√†o ch·ªó tr·ªëng: 'What was the last film that you _______?' (B·∫°n ƒë√£ xem b·ªô phim cu·ªëi c√πng n√†o?)",
            type: "text",
            correctAnswer: "saw",
            options: ["see", "seen", "saw", "seeing"]
        },
        {
            question: "ƒêi·ªÅn t·ª´ th√≠ch h·ª£p: 'When was the last time that you _______ at a restaurant?' (L·∫ßn cu·ªëi c√πng b·∫°n ƒÉn ·ªü nh√† h√†ng l√† khi n√†o?)",
            type: "text",
            correctAnswer: "ate",
            options: ["eat", "eaten", "ate", "eating"]
        },
        {
            question: "Ch·ªçn t·ª´ ƒë√∫ng: 'Did you _______ to a circus or a zoo?'",
            type: "text",
            correctAnswer: "go",
            options: ["go", "went", "gone", "going"]
        },
        {
            question: "Ch·ªçn t·ª´ ƒë√∫ng: 'Who taught you English at primary school?' (Ai ƒë√£ d·∫°y b·∫°n ti·∫øng Anh ·ªü tr∆∞·ªùng ti·ªÉu h·ªçc?)",
            type: "text",
            correctAnswer: "taught",
            options: ["teach", "taught", "teached", "teaching"]
        },
        {
            question: "Ho√†n th√†nh c√¢u: 'How old were your parents on their last birthday?' (B·ªë m·∫π b·∫°n bao nhi√™u tu·ªïi trong sinh nh·∫≠t g·∫ßn nh·∫•t c·ªßa h·ªç?)",
            type: "text",
            correctAnswer: "were",
            options: ["was", "is", "are", "were"]
        }
    ];

    let currentQuestionIndex = 0;
    let correctAnswersCount = 0;
    const quizContainer = document.getElementById('quiz-container');

    function loadQuestion() {
        if (currentQuestionIndex >= quizData.length) {
            showSummary();
            return;
        }

        const data = quizData[currentQuestionIndex];
        const questionBox = document.createElement('div');
        questionBox.className = 'question-box';
        questionBox.innerHTML = `
            <div class="question-text">${currentQuestionIndex + 1}. ${data.question}</div>
            <input type="text" class="answer-input" id="answer-input-${currentQuestionIndex}">
            <button class="submit-btn" onclick="checkAnswer(${currentQuestionIndex})">Ki·ªÉm tra</button>
            <div id="feedback-${currentQuestionIndex}" class="feedback"></div>
            <div id="options-${currentQuestionIndex}" class="options"></div>
        `;
        quizContainer.appendChild(questionBox);
    }

    function checkAnswer(index) {
        const inputElement = document.getElementById(`answer-input-${index}`);
        const feedbackElement = document.getElementById(`feedback-${index}`);
        const optionsElement = document.getElementById(`options-${index}`);
        const data = quizData[index];
        const userAnswer = inputElement.value.trim().toLowerCase();
        const correctAnswer = data.correctAnswer.toLowerCase();

        if (userAnswer === correctAnswer) {
            feedbackElement.className = 'feedback correct';
            feedbackElement.textContent = "ü•≥ Ch√≠nh x√°c! R·∫•t t·ªët!";
            correctAnswersCount++;
            setTimeout(() => {
                quizContainer.removeChild(document.getElementById(`answer-input-${index}`).parentElement);
                currentQuestionIndex++;
                loadQuestion();
            }, 1500);
        } else {
            feedbackElement.className = 'feedback incorrect';
            feedbackElement.textContent = "üòì Sai r·ªìi. H√£y th·ª≠ l·∫°i!";
            
            // Hi·ªÉn th·ªã multiple choice
            optionsElement.style.display = 'block';
            optionsElement.innerHTML = ''; // X√≥a c√°c l·ª±a ch·ªçn c≈© n·∫øu c√≥
            data.options.forEach(option => {
                const optionBtn = document.createElement('button');
                optionBtn.className = 'option-btn';
                optionBtn.textContent = option;
                optionBtn.onclick = () => checkMultipleChoice(option, index);
                optionsElement.appendChild(optionBtn);
            });
            
            // ·∫®n n√∫t "Ki·ªÉm tra" ban ƒë·∫ßu sau khi tr·∫£ l·ªùi sai l·∫ßn ƒë·∫ßu
            document.querySelector(`#answer-input-${index}`).style.display = 'none';
            document.querySelector(`#answer-input-${index}`).nextElementSibling.style.display = 'none';
        }
    }
    
    function checkMultipleChoice(option, index) {
        const feedbackElement = document.getElementById(`feedback-${index}`);
        const optionsElement = document.getElementById(`options-${index}`);
        const data = quizData[index];
        const correctAnswer = data.correctAnswer.toLowerCase();
        
        if (option.toLowerCase() === correctAnswer) {
            feedbackElement.className = 'feedback correct';
            feedbackElement.textContent = "ü•≥ Ch√≠nh x√°c! Gi·ªèi l·∫Øm!";
            correctAnswersCount++;
            setTimeout(() => {
                quizContainer.removeChild(document.getElementById(`answer-input-${index}`).parentElement);
                currentQuestionIndex++;
                loadQuestion();
            }, 1500);
        } else {
            feedbackElement.className = 'feedback incorrect';
            feedbackElement.textContent = "üòï ƒê√°p √°n ch∆∞a ƒë√∫ng. H√£y ch·ªçn l·∫°i nh√©.";
        }
    }

    function showSummary() {
        const summaryElement = document.getElementById('summary');
        document.getElementById('correct-count').textContent = correctAnswersCount;
        document.getElementById('total-count').textContent = quizData.length;
        summaryElement.style.display = 'block';
        alert(`Ch√∫c m·ª´ng! B·∫°n ƒë√£ ho√†n th√†nh b√†i quiz. S·ªë c√¢u ƒë√∫ng: ${correctAnswersCount}/${quizData.length}.`);
    }

    // T·∫£i c√¢u h·ªèi ƒë·∫ßu ti√™n khi trang ƒë∆∞·ª£c m·ªü
    window.onload = loadQuestion;
</script>

</body>
</html>